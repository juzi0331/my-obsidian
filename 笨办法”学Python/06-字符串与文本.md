---

---

# 🐍 Python 基础：字符串格式化与文本

> [!ABSTRACT] Python 基础：字符串格式化与文本
字符串是 Python 中最常用的数据类型之一。掌握如何高效地在文本中嵌入变量，是编写简洁代码的关键。

### 1. f-string：现代格式化 (推荐)

自 Python 3.6 引入以后，`f-string` 已成为最主流、最高效的字符串格式化方式。
- **基本用法**：在字符串前加上字母 `f` 或 `F`，并在内部使用 `{}` 包裹变量名。
- **嵌入数字与变量**：
```Python
types_of_people = 10
x = f"这世界有{types_of_people}种人"  # 将整数嵌入
binary = "二进制"
y = f"那些懂{binary}的人"  # 将字符串嵌入
```

- **嵌套引用**：`f-string` 内部可以包含已经格式化好的变量。

```Python
print(f"我说过: {x}")  # 嵌套变量 x
```

---

### 2. `.format()`：经典手动格式化

在某些特殊场景（如需要预先定义模板）下，仍会使用 `.format()` 方法。

- **工作原理**：使用 `{}` 作为占位符，随后通过 `.format()` 传入实际数值。
- **示例**：
```Python
hilarious = False
joke_evaluation = "这个笑话好笑么?! {}"
print(joke_evaluation.format(hilarious))  # 将布尔值插入占位符
```

---

### 3. 字符串拼接与连接

除了格式化，简单的字符串组合可以使用加法运算符。

- **连接符 `+`**：将两个字符串首尾相连。
- **代码示例**：
```Python
w = "这是字符串的左边"
e = "这是字符串的右边"
print(w + e)  # 输出：这是字符串的左边这是字符串的右边
```

---

### 💡 核心要点总结

|**特性**|**f-string (现代)**|**.format() (经典)**|**拼接 (+)**|
|---|---|---|---|
|**引入版本**|Python 3.6+|较早版本|基础语法|
|**可读性**|**极佳** (变量名就在位置上)|较好|一般 (容易乱)|
|**执行速度**|**最快**|较慢|较慢|
|**主要优点**|语法简洁，支持表达式计算|模板可复用|简单直观|

---

### 🛠️ 优化建议

1. **优先使用 f-string**：正如您在笔记中所提，旧式的 `%` 语法（以及某些旧的格式化习惯）在 Python 3.6 以后已不再推荐使用。
2. **变量命名**：您的练习代码中变量名为 `types_fo_people`，建议修正为 `types_of_people` 以提高英文语义的准确性。
3. **引号嵌套**：在使用 f-string 嵌套时，外层用双引号 `"`，内层用单引号 `'` 可以避免语法冲突。
    - 示例：`print(f"我说过 '{y}'")`。

---

![image.png](https://s2.loli.net/2025/12/07/5o8ENukpTJLRM1i.png)
