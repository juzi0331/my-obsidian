# 🐍 Python 进阶：函数嵌套调用

### 1. 什么是嵌套调用？

嵌套调用是指在**一个函数内部调用了另外一个函数**。
- **执行逻辑**：当被调用的函数执行完毕后，程序会返回到原函数中继续执行剩下的代码。

### 2. 函数调用与“栈”结构 (LIFO)

函数调用在内存中遵循**栈 (Stack)** 结构管理，其核心原则是 **LIFO (Last In First Out，后进先出)**。
- **入栈 (Push)**：每调用一个新函数，该函数就会进入栈顶，程序开始执行它。
- **出栈 (Pop)**：最后进入栈顶的函数最先执行完毕并退出，然后控制权交给其“下方”的函数。

### 3. 实战代码演练

通过以下示例可以直观地看到函数入栈与出栈的顺序：
```Python
def function_a():
    print("a...入栈")  # 第一步：a 进入
    function_b()       # 第二步：暂停 a，去执行 b
    print("a...出栈")  # 第六步：最后返回 a 并结束

def function_b():
    print("b...入栈")  # 第三步：b 进入
    function_c()       # 第四步：暂停 b，去执行 c
    print("b...出栈")  # 第五步：c 结束后，b 先出栈

def function_c():
    print("c...")      # 第五步核心：最深层的函数最快执行完

# 启动调用
function_a()
print("函数调用完毕")
```

### 4. 执行顺序追踪表

根据代码输出，程序的执行流如下：

| **顺序** | **控制台输出** | **内存状态说明**                      |
| ------ | --------- | ------------------------------- |
| **1**  | `a...入栈`  | `function_a` 开启                 |
| **2**  | `b...入栈`  | `function_a` 等待，`function_b` 开启 |
| **3**  | `c...`    | `function_c` 开启并立即结束            |
| **4**  | `b...出栈`  | `function_b` 继续完成并退出            |
| **5**  | `a...出栈`  | `function_a` 继续完成并退出            |
| **6**  | `函数调用完毕`  | 所有函数全部出栈，回到全局作用域                |
### 💡 核心要点总结

1. **逐级深入**：函数的调用可以进行多层嵌套，每一层都会保留其执行进度，直到被调用的子函数返回。
2. **后进先出**：就像洗盘子一样，最后放上去的（最后调用的）总是最先被洗掉的（最先结束）。
3. **注意递归风险**：如果函数 A 调用 A 自己（递归），但没有设置终止条件，会导致栈溢出（Stack Overflow）错误。

**优化说明：**

- **结构化追踪**：使用表格清晰地展示了输出内容与内存状态的对应关系。
- **逻辑概念化**：强化了“栈”和“LIFO”的关联说明，帮助理解底层原理。
- **流程可视化建议**：建议在笔记中结合你提供的流程图，增强视觉引导。

---

![image.png](https://eo-picgo.xfc49.cn/python/20251228135113312.png)
